1. Index
========

`1. Index <#index>`__\ **1**

`2. Introduction <#introduction>`__\ **4**

`3. Acronyms <#acronyms>`__\ **6**

`4. Actors <#actors>`__\ **6**

`5. Top Level A&G Use Case <#top-level-ag-use-case>`__\ **8**

   `5.1. Operate A&G in Human
   Environment <#operate-ag-in-human-environment>`__ 9

   `5.1.1. Operate A&G in an Operations
   Environment <#operate-ag-in-an-operations-environment>`__ 10

   `5.1.2. Operate A&G in an Engineering
   Environment <#operate-ag-in-an-engineering-environment>`__ 11

   `5.2. Operate in Machine
   Environment <#operate-in-machine-environment>`__ 16

`6. Specific Use Case Details <#specific-use-case-details>`__\ **18**

   `6.1. Startup OPI Screens <#startup-opi-screens>`__ 18

   `6.2. Reboot A&G <#_kicog9l8utc4>`__ 18

   `6.3. P1/P2 Enable/Disable Follow <#p1p2-enabledisable-follow>`__ 18

   `6.4. P1/P2 Unwrap <#p1p2-unwrap>`__ 19

   `6.5. P1/P2 Park <#p1p2-park>`__ 19

   `6.6. Park Science Fold <#_rbfa51fwyde>`__ 20

   `6.7. Park AO Fold <#park-ao-fold>`__ 20

   `6.8. Park HRWFS Pickoff Arm <#park-hrwfs-pickoff-arm>`__ 20

   `6.9. Select HRWFS ND Filter
   Position <#select-hrwfs-nd-filter-position>`__ 21

   `6.10. Select HRWFS CL Filter
   Position <#select-hrwfs-cl-filter-position>`__ 21

   `6.11. Select HRWFS Window Size <#select-hrwfs-window-size>`__ 22

   `6.12. Select P1/P2 Filter Position <#select-p1p2-filter-position>`__
   22

   `6.13. Select P1/P2 Fieldstop
   Position <#select-p1p2-fieldstop-position>`__ 22

   `6.14. Configure PMAC1/PMAC2
   Mailbox <#configure-pmac1pmac2-mailbox>`__ 23

   `6.15. HRWFS System Datum Command <#hrwfs-system-datum-command>`__ 23

   `6.16. HRWFS System Park Command <#hrwfs-system-park-command>`__ 24

   `6.17. HRWFS System Reboot Command <#hrwfs-system-reboot-command>`__
   24

   `6.18. HRWFS System Debug Level
   Command <#hrwfs-system-debug-level-command>`__ 25

   `6.19. HRWFS System Simulation Level
   Command <#hrwfs-system-simulation-level-command>`__ 25

   `6.20. HRWFS Visualize System
   Console <#hrwfs-visualize-system-console>`__ 26

   `6.21. HRWFS Visualize CAR Mode
   Tree <#hrwfs-visualize-car-mode-tree>`__ 26

   `6.22. HRWFS Visualize Health Mode
   Tree <#hrwfs-visualize-health-mode-tree>`__ 27

   `6.23. HRWFS Visualize In-Position
   Tree <#hrwfs-visualize-in-position-tree>`__ 27

   `6.24. HRWFS Visualize Datumed
   Tree <#hrwfs-visualize-datumed-tree>`__ 28

   `6.25. HRWFS Visualize Parked Tree <#hrwfs-visualize-parked-tree>`__
   28

   `6.26. HRWFS Visualize In-Position Mode
   Tree <#hrwfs-visualize-in-position-mode-tree>`__ 29

   `6.27. HRWFS Visualize Flags Mode
   Tree <#hrwfs-visualize-flags-mode-tree>`__ 29

   `6.28. HRWFS Configure Optical
   Encoders <#hrwfs-configure-optical-encoders>`__ 30

   `6.29. GBD System Datum Command <#gbd-system-datum-command>`__ 30

   `6.30. GBD System Park Command <#gbd-system-park-command>`__ 31

   `6.31. GBD System Reboot Command <#gbd-system-reboot-command>`__ 31

   `6.32. GBD System Debug Level
   Command <#gbd-system-debug-level-command>`__ 32

   `6.33. GBD System Simulation Level
   Command <#gbd-system-simulation-level-command>`__ 32

   `6.34. GBD Visualize System
   Console <#gbd-visualize-system-console>`__ 33

   `6.35. GBD Visualize CAR Mode Tree <#gbd-visualize-car-mode-tree>`__
   33

   `6.36. GBD Visualize Health Mode
   Tree <#gbd-visualize-health-mode-tree>`__ 34

   `6.37. GBD Visualize In-Position
   Tree <#gbd-visualize-in-position-tree>`__ 34

   `6.38. GBD Visualize Datumed Tree <#gbd-visualize-datumed-tree>`__ 35

   `6.39. GBD Visualize Parked Tree <#gbd-visualize-parked-tree>`__ 35

   `6.40. GBD Visualize In-Position Mode
   Tree <#gbd-visualize-in-position-mode-tree>`__ 35

   `6.41. GBD Visualize Flags Mode
   Tree <#gbd-visualize-flags-mode-tree>`__ 36

   `6.42. GBD Visualize HD Counter
   Torques <#gbd-visualize-hd-counter-torques>`__ 36

   `6.43. Visualize MACCON Amplifiers <#visualize-maccon-amplifiers>`__
   37

   `6.44. P1/P2 Tolerance Command <#p1p2-tolerance-command>`__ 37

   `6.45. P1/P2 Set Orientation
   Command <#p1p2-set-orientation-command>`__ 38

   `6.46. P1/P2 Follow Command <#p1p2-follow-command>`__ 38

   `6.47. P1/P2 Flip Command <#p1p2-flip-command>`__ 39

   `6.48. P1/P2 Unwrap Command <#p1p2-unwrap-command>`__ 39

   `6.49. P1/P2 Stop Command <#p1p2-stop-command>`__ 40

   `6.50. P1/P2 20 Hz Demand
   Simulation <#p1p2-20-hz-demand-simulation>`__ 40

   `6.51. Visualize P1/P2 Offsets <#visualize-p1p2-offsets>`__ 41

   `6.52. Visualize P1/P2 Console
   Configuration <#visualize-p1p2-console-configuration>`__ 41

   `6.53. Visualize P1/P2 SIRs for TCS <#visualize-p1p2-sirs-for-tcs>`__
   42

   `6.54. A&G Mechanism Control <#section-59>`__ 42

   `6.55. Select Mechanism Position <#select-mechanism-position>`__ 45

   `6.56. Move to Real Position <#move-to-real-position>`__ 45

   `6.57. Move to Engineering
   Position <#move-to-engineering-position>`__ 45

   `6.58. Datum the Mechanism <#datum-the-mechanism>`__ 46

   `6.59. Park the Mechanism <#park-the-mechanism>`__ 46

   `6.60. Stop the Mechanism <#stop-the-mechanism>`__ 47

   `6.61. Load All LUTs <#load-all-luts>`__ 47

   `6.62. Update Position Menu <#update-position-menu>`__ 47

   `6.63. Enter Name of LUT to Load <#_nheg6e9m105i>`__ 48

   `6.64. Enter Mechanism Calibration
   Parameters <#check-mechanism-calibration-parameters>`__ 48

   `6.65. Configure Motor Simulation <#_cpr4wojxd4v0>`__ 49

   `6.66. Visualize Datum
   Flag <#verify-mechanism-statuses-and-data-are-displayed-correctly>`__
   49

   `6.67. Visualize Park Flag <#_uy4xi1rh920z>`__ 49

   `6.68. Visualize In-Position Flag <#_6u8vxs1wwlml>`__ 50

   `6.69. Visualize Real Positions <#_bfleou37pkd8>`__ 50

   `6.70. Visualize Engineering Positions <#_81zfq9bcphh>`__ 50

   `6.71. Visualize Motor Status
   Words <#visualize-motor-status-words>`__ 51

   `6.72. Visualize Low Level Display <#visualize-low-level-display>`__
   51

   `6.73. User Update LUT Tables <#user-update-lut-tables>`__ 52

   `6.74. User Run a Probe Mapping <#user-run-a-probe-mapping>`__ 52

   `6.75. Check New Calibration Parameters <#_7ifkxdsov9ob>`__ 52

`7. Appendix <#appendix>`__\ **53**

   `7.1. A&G -> TCS <#ag---tcs>`__ 53

   `7.2. Currently disconnected
   channels <#currently-disconnected-channels>`__ 60

   `7.3. AG system SW decomposition <#ag-system-sw-decomposition>`__ 60

2. Introduction
===============

*<Use cases or scenarios can be used to effectively understand the
functional requirements of the software. Use cases are a simple and
clear way of expressing the detail that is required for each imaginable
use of the system and who and what interacts with it. Each use case is
expressed pictorially and by means of a textual description of the
associated ‘flow of events’.>*

This document describes the different A&G use cases that have been
identified to be in operation. We expect that the same use cases apply
to the system after the upgrade considered on the Real Time Upgrade
Project.

This is limited to all the mechanisms of the A&G, it excludes the
detectors.

The Acquisition and Guiding System (A&G) VME cabinet is located on the
ISS structure.

=====================================================================================
|image0|
=====================================================================================
1. Interaction between A&G and other systems. In **blue**, interactions at EPICS leve
=====================================================================================

The A&G IOC sends status data and process values to several systems. The
A&G interacts with the PMAC for lowel level motor control and status.

The use cases depend on the interactions between users and devices with
the system.

Devices interact with A&G by providing information and commands. This
data will trigger actions upon the mechanism parts of the system.

Users refers to humans and machines operating the system. Humans
interact using different interfaces, e.g. dm screens, console. Machine
interactions come from other telescope systems (e.g. GEA) which will act
upon commands and information sent by A&G.

3. Acronyms
===========

1.  OPI: Operator Interface

2.  GEA: Gemini Engineering Archive

3.  AG/A&G : Acquisition and Guiding

4.  GBD:

5.  P1 / P1WFS: Probe 1 Wave Front Sensor

6.  P2 / P2WFS: Probe 2 Wave Front Sensor

7.  EPICS: Experimental Physics and Industrial Control System

8.  TCS: Telescope Control System

9.  TCC:

10. SeqExec: Sequence Executor

11. IOC: Input/output controller

12. SOS: Science Operations Specialist

13. DM: Display Manager

14. CA: Channel Access

15. GN/GS: Gemini North/South

4. Actors
=========

=====================
|image1|
=====================
2. A&G and its actors
=====================

-  A&G Human Operators

   -  Gemini SOS - Gemini Science Operations Specialist -- an expert in
         the high-level control of the telescope at GN and GS.

   -  Gemini Engineer - A generic Gemini engineer -- likely an expert in
         low-level telescope systems, each at GN and GS

-  A&G Machine Operators

   -  TCS - The TCS IOC coordinates the mechanism movements of the A&G
         during observation. This is achieved at an EPICS level through
         the exchange of Command Action Records (CAR), Status
         Information Records (SIR) and a ‘genSub’ record.

   -  OCS - TCC sends park and follow commands to the A&G. A&G sends
         mechanism position and status information back to the TCS and
         TCC. Seqexec reads feedback from positions and status.

   -  GEA - A&G provides status and alarms info via EPICS records.

   -  EPICS-Tools - There are several EPICS Tools available to interact
         with the system. The DM Screens (OPI) are used to acquire and
         display data from A&G, through a GUI. In addition, lower level
         channel access tools can be used from a workstation terminal
         and/or the IOC shell. From the terminal, command line (shown as
         CA-tools) include caget, caput and camonitor. From the IOC
         Shell, common tools include db query commands (e.g. dbpr),
         reboot, Epics Thread information commands (e.g.
         epicsThreadShowAll), etc. These non-graphical interfaces
         provide a valuable resource when troubleshooting and diagnosing
         problems with the system.

   -  Linux Shell

5. Top Level A&G Use Case
=========================

=========================
|image2|
=========================
3. A&G Top-level use case
=========================

The figure above shows the top-level use case of A&G in its two
environments (i.e. Human, Machine) and the external subsystems with
which it interacts.

.. _section-1:

5.1. Operate A&G in Human Environment
-------------------------------------

`UC-207-01 <#operate-ag-in-human-environment>`__ Operate A&G in Human
Environment

===========
=============================================================================================================================================================
Goal        Operation of A&G in both an engineering and operations capacity with a Human-in-the-loop model.
===========
=============================================================================================================================================================
Description Humans interact with A&G through Gemini Observatory infrastructure and EPICS Tools (DM Screens) --both of which are requirements stemming from this use case.
Event Flow  -  SOS
           
               -  Operate A&G in Operations Environment `UC-207-02 <#operate-ag-in-an-operations-environment>`__
           
            -  Engineer
           
               -  Operate A&G in Engineering Environment `UC-207-03 <#operate-ag-in-an-engineering-environment>`__
===========
=============================================================================================================================================================

=======================================
|image3|
=======================================
4. A&G Human actor environment overview
=======================================

5.1.1. Operate A&G in an Operations Environment
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

UC-207-02 Operate A&G in an Operations Environment

===========
================================================================================================================
Goal        Operate A&G in an operations environment.
===========
================================================================================================================
Description Telescope SOS interact with A&G through the TCC/TCS during science operations.
Event Flow  -  Startup DM Screens `UC-207-05 <#startup-opi-screens>`__
           
            -  P1/P2 Enable/Disable Follow `UC-207-07 <#p1p2-enabledisable-follow>`__
           
            -  P1/P2 Unwrap `UC-207-08 <#p1p2-unwrap>`__
           
            -  P1/P2 Park `UC-207-09 <#p1p2-park>`__
           
            -  Park Science Fold `UC-207-10 <#park-science-fold>`__
           
            -  Park AO Fold `UC-207-11 <#park-ao-fold>`__
           
            -  Park HRWFS Pickoff Arm `UC-207-12 <#park-hrwfs-pickoff-arm>`__
           
            -  Select HRWFS ND Filter Position `UC-207-13 <#select-hrwfs-nd-filter-position>`__
           
            -  Select HRWFS CL Filter Position `UC-207-14 <#select-hrwfs-cl-filter-position>`__
           
            -  Select HRWFS Window Size `UC-207-15 <#select-hrwfs-window-size>`__
           
            -  Select P1/P2 Filter Position `UC-207-16 <#select-p1p2-filter-position>`__
           
            -  Select P1/P2 FieldStop Position `UC-207-17 <#select-p1p2-fieldstop-position>`__
           
            -  User Update LUT Tables `UC-207-79 <#user-update-lut-tables>`__
           
            -  User Run a Probe Mapping `UC-207-80 <#user-run-a-probe-mapping>`__
           
            -  Check New Calibration Parameters `UC-207-81 <#_7ifkxdsov9ob>`__
           
            -  Receive Commands `UC-207-8 <#receive-commands>`__\ \ 2
           
            -  Provide Status Information and Process Data\ `UC-207-8 <#provide-status-information-and-process-data>`__\ \ 3
===========
================================================================================================================

=============================================
|image4|
=============================================
5. A&G Operations Environment use case detail
=============================================

.. _section-2:

5.1.2. Operate A&G in an Engineering Environment
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

UC-207-03 Operate A&G in an Engineering Environment

===========
==============================================================================================
Goal        Operate A&G in an engineering environment.
===========
==============================================================================================
Description Engineers interact with A&G through EPICS Tools (DM Screens, console).
Event Flow  -  Startup OPI `UC-207-05 <#startup-opi-screens>`__
           
            Actions
           
            -  Reboot A&G `UC-207-06 <#_kicog9l8utc4>`__
           
            -  Configure PMAC1/PMAC2 Mailbox `UC-207-18 <#configure-pmac1pmac2-mailbox>`__
           
            HRWFS Component Controller
           
            -  Focus Mechanism `UC-207-60 <#section-59>`__
           
            -  Lens Mechanism `UC-207-60 <#section-59>`__
           
            -  CL Filter Mechanism `UC-207-60 <#section-59>`__
           
            -  ND Filter Mechanism `UC-207-60 <#section-59>`__
           
            -  Fieldstop Mechanism `UC-207-60 <#section-59>`__
           
            -  Calibration Source Mechanism `UC-207-60 <#section-59>`__
           
            -  System Datum Command `UC-207-19 <#hrwfs-system-datum-command>`__
           
            -  System Park Command `UC-207-20 <#hrwfs-system-park-command>`__
           
            -  System Reboot Command `UC-207-21 <#hrwfs-system-reboot-command>`__
           
            -  System Debug level Command `UC-207-22 <#hrwfs-system-debug-level-command>`__
           
            -  System Simulation Level Command `UC-207-23 <#hrwfs-system-simulation-level-command>`__
           
            -  Visualize System Console `UC-207-24 <#hrwfs-visualize-system-console>`__
           
            -  Visualize CAR Mode Tree `UC-207-25 <#hrwfs-visualize-car-mode-tree>`__
           
            -  Visualize Health Mode Tree `UC-207-26 <#hrwfs-visualize-health-mode-tree>`__
           
            -  Visualize In-Position Tree `UC-207-27 <#hrwfs-visualize-in-position-tree>`__
           
            -  Visualize Datumed Tree `UC-207-28 <#hrwfs-visualize-datumed-tree>`__
           
            -  Visualize Parked Tree `UC-207-29 <#hrwfs-visualize-parked-tree>`__
           
            -  Visualize In-Position Mode Tree `UC-207-30 <#hrwfs-visualize-in-position-tree>`__
           
            -  Visualize Flags Mode Tree `UC-207-31 <#hrwfs-visualize-flags-mode-tree>`__
           
            -  Configure Optical Encoders `UC-207-32 <#hrwfs-configure-optical-encoders>`__
           
            GBD Component Controller
           
            -  Science Fold Mirror Mechanism `UC-207-60 <#section-59>`__
           
            -  AO Fold Mirror Mechanism `UC-207-60 <#section-59>`__
           
            -  HRWFS Mechanism `UC-207-60 <#section-59>`__
           
            -  System Datum Command `UC-207-33 <#gbd-system-datum-command>`__
           
            -  System Park Command `UC-207-34 <#gbd-system-park-command>`__
           
            -  System Reboot Command `UC-207-35 <#gbd-system-reboot-command>`__
           
            -  System Debug level Command `UC-207-36 <#gbd-system-debug-level-command>`__
           
            -  System Simulation Level Command `UC-207-37 <#gbd-system-simulation-level-command>`__
           
            -  Visualize System Console `UC-207-38 <#gbd-visualize-system-console>`__
           
            -  Visualize CAR Mode Tree `UC-207-39 <#gbd-visualize-car-mode-tree>`__
           
            -  Visualize Health Mode Tree `UC-207-40 <#gbd-visualize-health-mode-tree>`__
           
            -  Visualize In-Position Tree `UC-207-41 <#gbd-visualize-in-position-tree>`__
           
            -  Visualize Datumed Tree `UC-207-42 <#gbd-visualize-datumed-tree>`__
           
            -  Visualize Parked Tree `UC-207-43 <#gbd-visualize-parked-tree>`__
           
            -  Visualize In-Position Mode Tree `UC-207-44 <#gbd-visualize-in-position-mode-tree>`__
           
            -  Visualize Flags Mode Tree `UC-207-45 <#gbd-visualize-flags-mode-tree>`__
           
            -  Visualize HD Counter Torques `UC-207-46 <#gbd-visualize-hd-counter-torques>`__
           
            -  Visualize MACCON Amplifiers `UC-207-47 <#visualize-maccon-amplifiers>`__
           
            GDB Component Controller PWFS1/PWFS2
           
            -  P1/P2 Probe Mechanism `UC-207-60 <#section-59>`__
           
            -  P1/P2 Filter Mechanism `UC-207-60 <#section-59>`__
           
            -  P1/P2 Fldstop Mechanism `UC-207-60 <#section-59>`__
           
            -  P1/P2 Tolerance command `UC-207-48 <#p1p2-tolerance-command>`__
           
            -  P1/P2 Set Orientation command `UC-207-49 <#p1p2-set-orientation-command>`__
           
            -  P1/P2 Follow command `UC-207-50 <#p1p2-follow-command>`__
           
            -  P1/P2 Flip command `UC-207-51 <#p1p2-flip-command>`__
           
            -  P1/P2 Unwrap command `UC-207-52 <#p1p2-unwrap-command>`__
           
            -  P1/P2 Stop command `UC-207-53 <#p1p2-stop-command>`__
           
            -  P1/P2 20 Hz Demand Simulation `UC-207-54 <#p1p2-20-hz-demand-simulation>`__
           
            -  Visualize P1/P2 Offsets `UC-207-55 <#visualize-p1p2-offsets>`__
           
            -  Visualize P1/P2 Console Configuration `UC-207-56 <#visualize-p1p2-console-configuration>`__
           
            -  Visualize P1/P2 SIRs for TCS `UC-207-57 <#visualize-p1p2-sirs-for-tcs>`__
===========
==============================================================================================

=========================================================
|image5|
=========================================================
6. A&G Top Level Engineering Environment use case details
=========================================================

=======================================================
|image6|
=======================================================
7. A&G Actions Engineering Environment use case details
=======================================================

==========================================================================
|image7|
==========================================================================
8. A&G HRWFS Component Controller Engineering Environment use case details
==========================================================================

========================================================================
.. rubric:: |image8|
   :name: section-3
========================================================================
9. A&G GBD Component Controller Engineering Environment use case details
========================================================================

====================================================================================
.. rubric:: |image9|
   :name: section-4
====================================================================================
10. A&G GBDPWFS1/PWFS2 Component Controller Engineering Environment use case details
====================================================================================

.. _section-5:

5.2. Operate in Machine Environment
-----------------------------------

`UC-207-04 <#operate-in-machine-environment>`__ Operate A&G in Machine
Environment

===========
=====================================================================
Goal        Operate the A&G in a machine environment --without human interaction.
===========
=====================================================================
Description Machines themselves interact with the A&G
Event Flow  -  Exchange Statuses and Process Data
           
               -  General status information (health, state, heartbeat, etc.)
           
               -  In position and datumed
           
            -  Movement Control Data exchange
           
               -  Move, park, init, stop, datum, tolerance, follow commands
           
               -  Follow demands
           
               -  Mechanism Positions
===========
=====================================================================

========================
|image10|
========================
11. Machine A&G Use Case
========================

.. _section-6:

.. _section-7:

6. Specific Use Case Details
============================

6.1. Startup OPI Screens
------------------------

UC-207-05 Startup OPI Screens

===========
====================================================================================
Goal        Startup the OPI and interact with A&G
===========
====================================================================================
Description The OPI provides lower level access to the A&G EPICS database.
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
===========
====================================================================================

6.2. P1/P2 Enable/Disable Follow
--------------------------------

UC 207-07 Enable and Disable P1/P2 Follow

===========
==================================================================
Goal        Enable or disable P1/P2 follow
===========
==================================================================
Description Enable and disable P1/P2 follow
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Enable Follow
           
               -  From the System Control screen on the TCC
           
               -  Click the P1 button to enable P1 follow
           
            -  Disable Follow
           
               -  Click the P1 button to disable P1 follow (already in follow)
===========
==================================================================

.. _section-8:

6.3. P1/P2 Unwrap
-----------------

UC 207-08 Unwrap the P1/P2 wrap

=============
===================================================================================================================
Goal          Unwrap the P1/P2 wrap
=============
===================================================================================================================
Description   Move the P1/P2 wrap away from the limit.
Preconditions The probe must be in a position where it's possible to reach an equivalent position by doing a 360 degree movement.
Event Flow    -  Startup the OPI from an operations machine with menu or script.
             
              -  Click the Target Selection button to open the Configuration Manager screen on the TCC
             
              -  Click the P1/P2 Unwrap button
=============
===================================================================================================================

6.4. P1/P2 Park
---------------

UC 207-09 P1/P2 Park

===========
==================================================================
Goal        Park P1/P2
===========
==================================================================
Description Park the P1/P2 probe arm from the TCC
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
               -  From the System Control screen on the TCC
           
               -  Click the white check button to ungrey Park commands
           
               -  Click the P1/P2 Park button
===========
==================================================================

.. _section-9:

6.5. Park Science Fold
----------------------

UC 207-10 Park Science Fold

===========
====================================================================
Goal        Park science fold mirror
===========
====================================================================
Description Park science fold mirror
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the System Control button to open the System Control screen
           
            -  Select Science Fold option menu in the A&G mechanisms menu
           
            -  Click the Park button
           
            -  Check that the Science Fold Mirror parked properly
===========
====================================================================

.. _section-10:

6.6. Park AO Fold
-----------------

UC 207-11 Park AO Fold

===========
====================================================================
Goal        Park AO fold mirror
===========
====================================================================
Description Park AO fold mirror
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the System Control button to open the System Control screen
           
            -  Select AO Fold option menu in the A&G mechanisms menu
           
            -  Click the Park button
           
            -  Check that the AO Fold Mirror parked properly
===========
====================================================================

.. _section-11:

6.7. Park HRWFS Pickoff Arm
---------------------------

UC 207-12 Park HRWFS Pickoff Arm

===========
====================================================================
Goal        Park HRWFS pickoff arm
===========
====================================================================
Description Park HRWFS pickoff arm
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the System Control button to open the System Control screen
           
            -  Select HRWFS pickoff arm option menu in the A&G mechanisms menu
           
            -  Click the Park button
           
            -  Check that the HRWFS pickoff parked properly
===========
====================================================================

.. _section-12:

6.8. Select HRWFS ND Filter Position
------------------------------------

UC 207-13 Select HRWFS ND Filter Position

===========
==================================================================
Goal        Select a HRWFS ND filter position
===========
==================================================================
Description Select HRWFS ND filter
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the Acquisition & Guiding button to open the screen
           
            -  Select the HRWFS/AC tab (pink one)
           
            -  Select the requested filter in the ND filter menu.
           
            -  Check that the HRWFS ND Filter moved properly
===========
==================================================================

.. _section-13:

6.9. Select HRWFS CL Filter Position
------------------------------------

UC 207-14 Select HRWFS CL Filter Position

===========
==================================================================
Goal        Select a HRWFS CL filter position
===========
==================================================================
Description Select HRWFS CL filter
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the Acquisition & Guiding button to open the screen
           
            -  Select the HRWFS/AC tab (pink one)
           
            -  Select the requested filter in the CL filter menu.
           
            -  Check that the HRWFS CL Filter moves properly
===========
==================================================================

6.10. Select HRWFS Window Size
------------------------------

UC 207-15 Select HRWFS Window Size

===========
==================================================================
Goal        Select a HRWFS window size
===========
==================================================================
Description Select HRWFS window size
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the Acquisition & Guiding button to open the screen
           
            -  Select the HRWFS/AC tab (pink one)
           
            -  Select the requested window size in the window menu.
           
            -  Check that the HRWFS change to the new window size
===========
==================================================================

.. _section-14:

6.11. Select P1/P2 Filter Position
----------------------------------

UC 207-16 Select P1/P2 Filter Position

===========
==================================================================
Goal        Select P1/P2 filter position
===========
==================================================================
Description Select P1/P2 Filter
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the Acquisition & Guiding button to open the screen
           
            -  Select the PWFS1/PWFS2 tab (blue one)
           
            -  Select the requested filter in the filter menu.
           
            -  Check that the P1/P2 Filter mechanism moves to the new filter
===========
==================================================================

.. _section-15:

6.12. Select P1/P2 Fieldstop Position
-------------------------------------

UC 207-17 Select P1/P2 Fieldstop Position

===========
==================================================================
Goal        Select P1/P2 Fieldstop position
===========
==================================================================
Description Select P1 Fieldstop
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Click the Acquisition & Guiding button to open the screen
           
            -  Select the PWFS1/PWFS2 tab (blue one)
           
            -  Select the requested fieldstop in the fieldstop menu.
           
            -  Check that the P1/P2 Fieldstop mechanism moves to the new one
===========
==================================================================

.. _section-16:

6.13. Configure PMAC1/PMAC2 Mailbox
-----------------------------------

UC 207-18 Configure PMAC1/PMAC2 Mailbox

===========
====================================================================================
Goal        Configure PMAC1/PMAC2 Mailbox
===========
====================================================================================
Description Configure PMAC1/PMAC2 Mailbox
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the Configure PMAC1/PMAC2 option menu
           
            -  Click the PMAC MAILBOX button to open the PMAC1/PMAC2 mailbox screen
           
            -  In the Input field type a valid PMAC command.
           
            -  Check the PMAC1/PMAC2 reply in the output field.
===========
====================================================================================

.. _section-17:

6.14. HRWFS System Datum Command
--------------------------------

UC 207-19 HRWFS System Datum Command

===========
====================================================================================
Goal        Datum all HRWFS mechanisms at once.
===========
====================================================================================
Description HRWFS Datum command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the System option menu.
           
            -  Click the DATUM button to datum all mechanism.
           
            -  Check that all HRWFS CC mechanisms datumed properly
===========
====================================================================================

.. _section-18:

6.15. HRWFS System Park Command
-------------------------------

UC 207-20 HRWFS System Park Command

===========
====================================================================================
Goal        Park all HRWFS mechanisms at once.
===========
====================================================================================
Description HRWFS park command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the System option menu.
           
            -  Click the PARK button to park all mechanism.
           
            -  Check that all HRWFS CC mechanisms parked properly
===========
====================================================================================

.. _section-19:

6.16. HRWFS System Reboot Command
---------------------------------

UC 207-21 HRWFS System Reboot Command

===========
====================================================================================
Goal        Reboot the A&G IOC
===========
====================================================================================
Description Reboot A&G IOC command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the System option menu.
           
            -  Click the REBOOT button to open the REBOOT CC screen
           
            -  Click the YES button to proceed with the IOC reboot
           
            -  Check that the VME reboot
===========
====================================================================================

.. _section-20:

.. _section-21:

6.17. HRWFS System Debug Level Command
--------------------------------------

UC 207-22 HRWFS System Debug Level Command

===========
====================================================================================
Goal        Set Debug Level Command
===========
====================================================================================
Description Set Debug Level Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the System option menu.
           
            -  Click the Debug, Int button to open the Debug level, simulation mode screen
           
            -  Set debugging mode entry required. (NONE,MIN,FULL)
           
            -  Click the START Directive button
           
            -  Click the SET button
           
            -  Check the A&G HRWFS CC Debug level change properly
===========
====================================================================================

.. _section-22:

6.18. HRWFS System Simulation Level Command
-------------------------------------------

UC 207-23 HRWFS System Simulation Level Command

===========
====================================================================================
Goal        Set Simulation Level Command
===========
====================================================================================
Description Set Simulation Level Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the System option menu.
           
            -  Click the Debug, Int button to open the Debug level, simulation mode screen
           
            -  Set simulation level entry required. (NONE,VSM,FAST,FULL)
           
            -  Click the START Directive button
           
            -  Click the INIT button
           
            -  Check the A&G HRWFS CC Simulation level change properly
===========
====================================================================================

.. _section-23:

6.19. HRWFS Visualize System Console
------------------------------------

UC 207-24 HRWFS Visualize System Console

===========
=================================================================================================================================
Goal        HRWFS System Console
===========
=================================================================================================================================
Description HRWFS System Console
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the Console option menu.
           
            -  Visualize the components name, components statuses, demands, marked records, cleared records, and current mechanism positions.
===========
=================================================================================================================================

.. _section-24:

6.20. HRWFS Visualize CAR Mode Tree
-----------------------------------

UC 207-25 HRWFS Visualize CAR Mode Tree

===========
====================================================================================
Goal        Test HRWFS CAR Mode Tree
===========
====================================================================================
Description Test HRWFS CAR Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the Car-Tree option menu.
           
            -  Visualize the A&G HRWFS CC CAR status for each mechanism
===========
====================================================================================

.. _section-25:

6.21. HRWFS Visualize Health Mode Tree
--------------------------------------

UC 207-26 HRWFS Visualize Health Mode Tree

===========
====================================================================================
Goal        Visualize HRWFS Health Mode Tree
===========
====================================================================================
Description Visualize HRWFS Health Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the Health-Tree option menu.
           
            -  Visualize the A&G HRWFS CC health status for each mechanism.
Note           Everything shows up in yellow (warning)
===========
====================================================================================

.. _section-26:

6.22. HRWFS Visualize In-Position Tree
--------------------------------------

UC 207-27 HRWFS Visualize In-Position Tree

===========
====================================================================================
Goal        Visualize HRWFS In-Position Tree
===========
====================================================================================
Description Visualize HRWFS In-Position Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the InPos-Tree option menu.
           
            -  Visualize the A&G HRWFS CC In Position status for each mechanism.
===========
====================================================================================

.. _section-27:

6.23. HRWFS Visualize Datumed Tree
----------------------------------

UC 207-28 HRWFS Visualize Datumed Tree

===========
====================================================================================
Goal        Visualize HRWFS Datumed Tree
===========
====================================================================================
Description Visualize HRWFS Datumed Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the Datumed-Tree option menu.
           
            -  Visualize the A&G HRWFS CC Datum status for each mechanism.
===========
====================================================================================

.. _section-28:

6.24. HRWFS Visualize Parked Tree
---------------------------------

UC 207-29 HRWFS Visualize Parked Tree

===========
====================================================================================
Goal        Visualize HRWFS Parked Tree
===========
====================================================================================
Description Visualize HRWFS Parked Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the Parked-Tree option menu.
           
            -  Visualize the A&G HRWFS CC Park status for each mechanism.
===========
====================================================================================

.. _section-29:

.. _section-30:

6.25. HRWFS Visualize In-Position Mode Tree
-------------------------------------------

UC 207-30 HRWFS Visualize In-Position Mode Tree

===========
====================================================================================
Goal        Visualize HRWFS In-Position Mode Tree
===========
====================================================================================
Description Visualize HRWFS In-Position Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the inPosMode-Tree option menu.
           
            -  Visualize the A&G HRWFS CC In Position Mode status for each mechanism.
===========
====================================================================================

.. _section-31:

6.26. HRWFS Visualize Flags Mode Tree
-------------------------------------

UC 207-31 HRWFS Visualize Flags Mode Tree

===========
====================================================================================
Goal        Visualize HRWFS Flags Mode Tree
===========
====================================================================================
Description Visualize HRWFS Flags Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the Flags-Tree option menu.
           
            -  Visualize the A&G HRWFS CC Flags status for each mechanism.
===========
====================================================================================

.. _section-32:

6.27. HRWFS Configure Optical Encoders
--------------------------------------

UC 207-32 HRWFS Configure Optical Encoders

===========
====================================================================================
Goal        HRWFS Optical Encoders
===========
====================================================================================
Description HRWFS Optical Encoders
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the HRWFS button
           
            -  In the A&G HRWFS CC screen click the Optical Encoders option menu.
           
            -  Click the Encoder mode button for the required option (AUTOMATIC, MANUAL)
           
            -  Click the Encoder Switch to the required option (ON, OFF)
===========
====================================================================================

.. _section-33:

6.28. GBD System Datum Command
------------------------------

UC 207-33 GBD System Datum Command

===========
====================================================================================
Goal        Datum all GBD mechanisms at once.
===========
====================================================================================
Description GBD Datum command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the System option menu.
           
            -  Click the DATUM button to datum all mechanism.
           
            -  Check that all GBD CC mechanisms datumed properly
===========
====================================================================================

.. _section-34:

6.29. GBD System Park Command
-----------------------------

UC 207-34 GBD System Park Command

===========
====================================================================================
Goal        Park all GBD mechanisms at once.
===========
====================================================================================
Description GBD park command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the System option menu.
           
            -  Click the PARK button to park all mechanism.
           
            -  Check that all GBD CC mechanisms parked properly
===========
====================================================================================

.. _section-35:

6.30. GBD System Reboot Command
-------------------------------

UC 207-35 GBD System Reboot Command

===========
====================================================================================
Goal        Reboot the A&G IOC
===========
====================================================================================
Description Reboot A&G IOC command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the System option menu.
           
            -  Click the REBOOT button to open the REBOOT CC screen
           
            -  Click the YES button to proceed with the IOC reboot
           
            -  Check that the VME reboot
===========
====================================================================================

.. _section-36:

6.31. GBD System Debug Level Command
------------------------------------

UC 207-36 GBD System Debug Level Command

===========
====================================================================================
Goal        Set Debug Level Command
===========
====================================================================================
Description Set Debug Level Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the System option menu.
           
            -  Click the Debug, Int button to open the Debug level, simulation mode screen
           
            -  Set debugging mode entry required. (NONE,MIN,FULL)
           
            -  Click the START Directive button
           
            -  Click the SET button
           
            -  Check the A&G GBD CC Debug level change properly
===========
====================================================================================

.. _section-37:

6.32. GBD System Simulation Level Command
-----------------------------------------

UC 207-37 GBD System Simulation Level Command

===========
====================================================================================
Goal        Set Simulation Level Command
===========
====================================================================================
Description Set Simulation Level Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the System option menu.
           
            -  Click the Debug, Int button to open the Debug level, simulation mode screen
           
            -  Set simulation level entry required. (NONE,VSM,FAST,FULL)
           
            -  Click the START Directive button
           
            -  Click the INIT button
           
            -  Check the A&G GBD CC Simulation level change properly
===========
====================================================================================

.. _section-38:

6.33. GBD Visualize System Console
----------------------------------

UC 207-38 GBD Visualize System Console

===========
=================================================================================================================================
Goal        GBD Visualize System Console
===========
=================================================================================================================================
Description GBD Visualize System Console
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the Console option menu.
           
            -  Visualize the components name, components statuses, demands, marked records, cleared records, and current mechanism positions.
===========
=================================================================================================================================

.. _section-39:

6.34. GBD Visualize CAR Mode Tree
---------------------------------

UC 207-39 GBD Visualize CAR Mode Tree

===========
====================================================================================
Goal        Visualize GBD CAR Mode Tree
===========
====================================================================================
Description Visualize GBD CAR Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the Car-Tree option menu.
           
            -  Visualize the A&G GBD CC CAR status for each mechanism.
===========
====================================================================================

.. _section-40:

6.35. GBD Visualize Health Mode Tree
------------------------------------

UC 207-40 GBD Visualize Health Mode Tree

===========
====================================================================================
Goal        Visualize GBD Health Mode Tree
===========
====================================================================================
Description Visualize GBD Health Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the Health-Tree option menu.
           
            -  Visualize the A&G GBD CC health status for each mechanism.
===========
====================================================================================

.. _section-41:

6.36. GBD Visualize In-Position Tree
------------------------------------

UC 207-41 GBD Visualize In-Position Tree

===========
====================================================================================
Goal        Visualize GBD In-Position Tree
===========
====================================================================================
Description Visualize GBD In-Position Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the InPos-Tree option menu.
           
            -  Visualize the A&G GBD CC In Position status for each mechanism.
===========
====================================================================================

.. _section-42:

.. _section-43:

6.37. GBD Visualize Datumed Tree
--------------------------------

UC 207-42 GBD Visualize Datumed Tree

===========
====================================================================================
Goal        Visualize GBD Datumed Tree
===========
====================================================================================
Description Visualize GBD Datumed Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the Datumed-Tree option menu.
           
            -  Visualize the A&G GBD CC Datum status for each mechanism.
===========
====================================================================================

.. _section-44:

6.38. GBD Visualize Parked Tree
-------------------------------

UC 207-43 GBD Visualize Parked Tree

===========
====================================================================================
Goal        Visualize GBD Parked Tree
===========
====================================================================================
Description Visualize GBD Parked Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the Parked-Tree option menu.
           
            -  Visualize the A&G GBD CC Park status for each mechanism.
===========
====================================================================================

.. _section-45:

6.39. GBD Visualize In-Position Mode Tree
-----------------------------------------

UC 207-44 GBD Visualize In-Position Mode Tree

===========
====================================================================================
Goal        Visualize GBD In-Position Mode Tree
===========
====================================================================================
Description Visualize GBD In-Position Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the inPosMode-Tree option menu.
           
            -  Visualize the A&G GBD CC In Position Mode status for each mechanism.
===========
====================================================================================

.. _section-46:

6.40. GBD Visualize Flags Mode Tree
-----------------------------------

UC 207-45 GBD Visualize Flags Mode Tree

===========
====================================================================================
Goal        Visualize GBD Flags Mode Tree
===========
====================================================================================
Description Visualize GBD Flags Mode Tree
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the Flags-Tree option menu.
           
            -  Visualize the A&G GBD CC Flags status for each mechanism.
===========
====================================================================================

.. _section-47:

6.41. GBD Visualize HD Counter Torques
--------------------------------------

UC 207-46 GBD Visualize HD Counter Torques

===========
====================================================================================
Goal        Visualize HD Counter Torques
===========
====================================================================================
Description Visualize HD Counter Torques
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the Counter torques option menu.
           
            -  Visualize Rotary Tables and Probe Arms mechanism encoder status.
===========
====================================================================================

.. _section-48:

6.42. Visualize MACCON Amplifiers
---------------------------------

UC 207-47 Visualize Maccon Amplifiers

===========
====================================================================================
Goal        Visualize Maccon Amplifiers
===========
====================================================================================
Description Visualize Maccon Amplifiers
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the MACCON faults option menu.
           
            -  Visualize AO Fold, Science fold and HRWFS mirrors amplifier status.
Note           There is an option "Small Mechanism Reset" that does not open any window
===========
====================================================================================

.. _section-49:

6.43. P1/P2 Tolerance Command
-----------------------------

UC 207-48 PWFS1/PWFS2 Tolerance Command

===========
====================================================================================
Goal        PWFS1/PWFS2 Tolerance Command
===========
====================================================================================
Description PWFS1/PWFS2 Tolerance Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the specials option menu.
           
            -  Enter values for radial and focus tolerances input fields
           
            -  Click the MARK button and the START button
           
            -  Check that Current output fields of radial and focus tolerances.
===========
====================================================================================

.. _section-50:

6.44. P1/P2 Set Orientation Command
-----------------------------------

UC 207-49 PWFS1/PWFS2 Set Orientation Command

===========
====================================================================================
Goal        PWFS1/PWFS2 Set Orientation Command
===========
====================================================================================
Description PWFS1/PWFS2 Set Orientation Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the specials option menu.
           
            -  Enter values for table and arm orientation input fields
           
            -  Click the MARK button and the START button
           
            -  Check that Current output fields of table and arm orientation.
===========
====================================================================================

.. _section-51:

6.45. P1/P2 Follow Command
--------------------------

UC 207-50 PWFS1/PWFS2 Follow Command

===========
====================================================================================
Goal        PWFS1/PWFS2 Follow Command
===========
====================================================================================
Description PWFS1/PWFS2 Follow Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1 button.
           
            -  In the A&G GBD CC P1/P2 screen click the specials option menu.
           
            -  Click MARK button and then START button in the follow section
           
            -  Check that p1/p2:interpol.SCAN channel change to 0.05 SCAN rate
           
            -  Check that GDB CC PWFS1/PWFS2 mechanisms change to BUSY state
           
            -  Click MARK button and then STOP button to stop follow
===========
====================================================================================

.. _section-52:

6.46. P1/P2 Flip Command
------------------------

UC 207-51 PWFS1/PWFS2 Flip Command

===========
====================================================================================
Goal        PWFS1/PWFS2 Flip Command
===========
====================================================================================
Description PWFS1/PWFS2 Flip Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the specials option menu.
           
            -  Click MARK button and then START button in the flip section
           
            -  Check that GDB CC PWFS1/PWFS2 mechanisms change to BUSY state
           
            -  Click MARK button and then STOP button to stop flipping
===========
====================================================================================

.. _section-53:

6.47. P1/P2 Unwrap Command
--------------------------

UC 207-52 PWFS1/PWFS2 Unwrap Command

===========
====================================================================================
Goal        PWFS1/PWFS2 Unwrap Command
===========
====================================================================================
Description PWFS1/PWFS2 Unwrap Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the specials option menu.
           
            -  Click MARK button and then START button in the unwrap section
           
            -  Check that GDB CC PWFS1/PWFS2 mechanisms change to BUSY state
           
            -  Click MARK button and then STOP button to stop unwrapping action
===========
====================================================================================

.. _section-54:

6.48. P1/P2 Stop Command
------------------------

UC 207-53 PWFS1/PWFS2 Stop Command

===========
====================================================================================
Goal        PWFS1/PWFS2 Stop Command
===========
====================================================================================
Description PWFS1/PWFS2 Stop Command
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the specials option menu.
           
            -  Click MARK button and then START button in the stop section
           
            -  Check that GDB CC PWFS1/PWFS2 mechanisms stop any ongoing action
===========
====================================================================================

.. _section-55:

6.49. P1/P2 20 Hz Demand Simulation
-----------------------------------

UC 207-54 PWFS1/PWFS2 20 Hz Demand Simulation

===========
====================================================================================
Goal        PWFS1/PWFS2 20 Hz Demand Simulation
===========
====================================================================================
Description PWFS1/PWFS2 20 Hz Demand Simulation
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the 20Hz Simulation option menu.
           
            -  Enter required values in the trajectory entries.
           
            -  Enter required values in the interpolation parameters entries,
           
            -  Click the START button to start the simulation
           
            -  Check that GDB CC PWFS1/PWFS2 mechanisms change to BUSY state
           
            -  Click the STOP button to stop the simulation
===========
====================================================================================

.. _section-56:

6.50. Visualize P1/P2 Offsets 
------------------------------

UC 207-55 Visualize PWFS1/PWFS2 Offsets

===========
====================================================================================
Goal        Visualize PWFS1/PWFS2 Offsets
===========
====================================================================================
Description Visualize PWFS1/PWFS2 Offsets
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the Offsets option menu.
           
            -  Visualize offset values for P1/P2.
===========
====================================================================================

.. _section-57:

6.51. Visualize P1/P2 Console Configuration
-------------------------------------------

UC 207-56 Visualize PWFS1/PWFS2 Console Configuration

===========
====================================================================================
Goal        Visualize PWFS1/PWFS2 Console Configuration
===========
====================================================================================
Description Visualize PWFS1/PWFS2 Console Configuration
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the Console option menu.
           
            -  Enter a valid fieldstop name to MARK the record
           
            -  Enter a valid filter name to MARK the record
           
            -  Enter a valid probe positions (X,Y) to MARK the record
           
            -  Click the APPLY button in any control screen
           
            -  Check that the mechanism moves to the requested position
===========
====================================================================================

.. _section-58:

6.52. Visualize P1/P2 SIRs for TCS 
-----------------------------------

UC 207-57 Visualize PWFS1/PWFS2 SIRs for TCS

===========
====================================================================================
Goal        Visualize PWFS1/PWFS2 SIRs for TCS
===========
====================================================================================
Description Visualize PWFS1/PWFS2 SIRs for TCS
Event Flow  -  Startup the OPI from an operations machine with menu, script or the command line.
           
            -  In the A&G Top Level Screen click the GBD button
           
            -  In the A&G GBD CC screen click the PWFS1/PWFS2 button.
           
            -  In the A&G GBD CC P1/P2 screen click the SIRs for TCS option menu.
           
            -  Visualize values sent to the TCS by the A&G GBD CC PWFS1/PWFS2
===========
====================================================================================

.. _section-59:

.. _section-60:

.. _section-61:

.. _section-62:

.. _section-63:

6.53. A&G Mechanism Control
---------------------------

UC 207-60 A&G Mechanism Control

===========
====================================================================================================================
Goal        Define all A&G mechanisms
===========
====================================================================================================================
Description This Use Case involves all mechanisms used in the A&G subsystem. It defines a valid set of tests for each mechanism.
           
            List of mechanisms that should comply with this Use Case:
           
            -  HR: Focus, Lens, Color filter, ND filter, Fieldstop, calibration source
           
            -  GBD: SF(RT2,tilt,linear), HR, AOFold (RT3,PA3AO)
           
               -  PWFS1: Probe (X,Y,Z), Filter, Fieldstop
           
               -  PWFS2: Probe (X,Y,Z), Filter, Fieldstop
Event Flow  -  Startup OPI `UC-207-05 <#startup-opi-screens>`__
           
            Actions
           
            -  Select Mechanism Position `UC-207-61 <#select-mechanism-position>`__
           
            -  Move to Real Position `UC-207-62 <#move-to-real-position>`__
           
            -  Move to Engineering Position `UC-207-63 <#move-to-engineering-position>`__
           
            -  Datum the Mechanism `UC-207-64 <#datum-the-mechanism>`__
           
            -  Park the Mechanism `UC-207-65 <#park-the-mechanism>`__
           
            -  Stop the Mechanism `UC-207-66 <#stop-the-mechanism>`__
           
            -  Load All LUTs `UC-207-67 <#load-all-luts>`__
           
            -  Update Position Menu `UC-207-68 <#update-position-menu>`__
           
            -  Enter Name of LUT to load `UC-207-69 <#_nheg6e9m105i>`__
           
            -  Enter Mechanism Calibration Parameters `UC-207-70 <#check-mechanism-calibration-parameters>`__
           
            -  Configure Motor Simulation `UC-207-71 <#_cpr4wojxd4v0>`__
           
            Status
           
            -  Visualize Datum flag `UC-207-72 <#verify-mechanism-statuses-and-data-are-displayed-correctly>`__
           
            -  Visualize Park flag `UC-207-73 <#_uy4xi1rh920z>`__
           
            -  Visualize In-Position flag `UC-207-74 <#_6u8vxs1wwlml>`__
           
            -  Visualize Real positions `UC-207-75 <#_bfleou37pkd8>`__
           
            -  Visualize engineering positions `UC-207-76 <#_81zfq9bcphh>`__
           
            -  Visualize Motor Status Words `UC-207-77 <#visualize-motor-status-words>`__
           
            -  Visualize Low Level Display `UC-207-78 <#visualize-low-level-display>`__
===========
====================================================================================================================

.. _section-64:

|image11|
---------

12. A&G Mechanisms Engineering Environment use case details

.. _section-65:

6.54. Select Mechanism Position
-------------------------------

UC 207-61 Select Mechanism Position

===========
==================================================================
Goal        Move the mechanism to a valid position
===========
==================================================================
Description Select mechanism Position
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Click a valid mechanism position in the Select position menu
           
            -  The position shows up in the selected input field
           
            -  Click the SELECT button to move the mechanism
           
            -  Check the current output field changes properly
===========
==================================================================

.. _section-66:

6.55. Move to Real Position
---------------------------

UC 207-62 Move to Real Position

===========
==================================================================
Goal        Move the Mechanism using real position
===========
==================================================================
Description Move to real position
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Enter a valid position in degrees in the position input field
           
            -  Click the MOVE button
           
            -  Check the current output field
===========
==================================================================

.. _section-67:

6.56. Move to Engineering Position
----------------------------------

UC 207-63 Move to Engineering Position

===========
==========================================================================
Goal        Move the Mechanism using engineering position
===========
==========================================================================
Description Move to engineering position
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Enter a valid position in engineering units in the position input field
           
            -  Click the MOVE button
           
            -  Check the current output field
===========
==========================================================================

.. _section-68:

6.57. Datum the Mechanism
-------------------------

UC 207-64 Datum the Mechanism

===========
==================================================================
Goal        Datum the mechanism
===========
==================================================================
Description Datum the mechanism
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Click the DATUM button in the Special functions section
           
            -  Check that the mechanism datumed
===========
==================================================================

.. _section-69:

6.58. Park the Mechanism
------------------------

UC 207-65 Park the Mechanism

===========
==================================================================
Goal        Park the mechanism
===========
==================================================================
Description Park the mechanism
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Click the PARK button in the Special functions section
           
            -  Check that the mechanism move to the Park position
===========
==================================================================

.. _section-70:

6.59. Stop the Mechanism
------------------------

UC 207-66 Stop the Mechanism

===========
=====================================================================================================================
Goal        Stop the mechanism
===========
=====================================================================================================================
Description Stop the mechanism
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Start a movement
           
            -  Click the SOFT STOP button in the Special functions section before the mechanism has reached its demanded position
           
            -  Check that the mechanism stops movement
===========
=====================================================================================================================

.. _section-71:

6.60. Load All LUTs
-------------------

UC 207-67 Load All LUTs

===========
==================================================================
Goal        Load all mechanism LUTs
===========
==================================================================
Description Load all mechanism LUTs
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Click the Load all LUTs button
===========
==================================================================

.. _section-72:

6.61. Update Position Menu
--------------------------

UC 207-68 Update Position menu

===========
==================================================================
Goal        Update position menu
===========
==================================================================
Description Update position menu
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Modify mechanism LUT file
           
            -  Click the update menu button
           
            -  Check that the Position Menu update properly
===========
==================================================================

.. _section-73:

6.62. Check Mechanism Calibration Parameters
--------------------------------------------

UC 207-70 Enter Mechanism Calibration Parameters

===========
==============================================================================================================================================================
Goal        Handle HRWFS Calibration Source Mechanism
===========
==============================================================================================================================================================
Description Handle HRWFS Calibration Source Mechanism
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Click the Calibration params option menu in the bottom right to open the mechanism Calibration parameter dm-screen
           
            -  The following mechanism parameter can be updated Scale, Offset, Limit+, Limit-, Tolerance, Radius RT, Radius PA, X Transl., Y Transl., X Scale and Y Scale.
           
            -  Click the Apply button to update parameters
===========
==============================================================================================================================================================

.. _section-74:

6.63. Verify Mechanism Statuses and Data are displayed correctly
----------------------------------------------------------------

UC 207-72 Visualize Mechanism Statuses and Data are Displayed Correctly.

===========
==================================================================
Goal        Visualize statuses and Data of mechanism
===========
==================================================================
Description Visualize mechanism status information
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Check mechanism DATUM, PARKED and IN POSITION flags status.
           
            -  Check Engineering and Real positions status.
           
            -  CAR State and message
           
            -  Health and state of SNl
           
            -  CAD status
           
            -  PLC response
===========
==================================================================

.. _section-75:

6.64. Visualize Motor Status Words
----------------------------------

UC 207-77 Visualize Motor Status Words

===========
==================================================================================================================
Goal        Visualize motor status words
===========
==================================================================================================================
Description Visualize motor status words
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Click the Motor status words option menu in the bottom right to open the mechanism MOTOR STATUS WORDS dm-screen
           
            -  Check the mechanism status bits provided by the PMAC
===========
==================================================================================================================

.. _section-76:

6.65. Visualize Low Level Display
---------------------------------

UC 207-78 Visualize Low Level Display

===========
================================================================================================================
Goal        Visualize low level displays
===========
================================================================================================================
Description Visualize low level display
Event Flow  -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Click the Low level display option menu in the bottom right to open the mechanism Low-level display dm-screen
           
            -  Check the values provided by this screen
===========
================================================================================================================

.. _section-77:

6.66. User Update LUT Tables
----------------------------

UC 207-79 User Update LUT tables.

===========
==================================================================
Goal        LUT files are uploaded
===========
==================================================================
Description Check LUT are properly uploaded after a reboot
Event Flow  -  Update a LUT table
           
            -  Reboot A&G
           
            -  Startup the OPI from an operations machine with menu or script.
           
            -  Open the A&G mechanism control screen
           
            -  Check the values are properly loaded
===========
==================================================================

.. _section-78:

6.67. User Run a Probe Mapping
------------------------------

UC 207-80 User Run a Probe Mapping.

===========
=========================================================================================
Goal        Pcal script sent AG demands
===========
=========================================================================================
Description Check Pcal script runs correctly
Event Flow  -  Run a pcal test, instructions are here: http://internal.gemini.edu/sos/pwfsprobemapeng
           
            -  Confirm the script can be successfully execute.
===========
=========================================================================================

.. _section-79:

6.68. Receive Commands 
-----------------------

UC 207-82 Receive Commands

===========
===================================================================================================================
Goal        To receive commands
===========
===================================================================================================================
Description Both TCS and TCC will be able to control specific actions of A&G, in order to comply with observation requirements.
Event Flow  -  A&G will make publicly available the necessary channels to modify process setpoints and parameters.
===========
===================================================================================================================

6.69. Provide Status Information and Process Data
-------------------------------------------------

UC 207-83 Provide Status Information and Process Data

===========
===================================================================================================================
Goal        To provide relevant information to GEA, TCS, OCS
===========
===================================================================================================================
Description The A&G will provide status information and data to GEA, OCS and TCS
Event Flow  -  A&G will make publicly available the necessary channels for GEA, OCS and TCS to access the required information.
===========
===================================================================================================================

.. _section-80:

7. Appendix
===========

7.1. A&G <-> TCS 
-----------------

These tables give a brief description of the records used on the
interactions between A&G and TCS.

=============== ==================== ===========
**Description** **Record**           **Comment**
=============== ==================== ===========
\               ag:p1:stop.DIR      
\               ag:p1:follow.T      
\               ag:oi:follow.DIR    
\               ag:oi:followA.J     
\               ag:p2:followA.J     
\               ag:p1:followA.J     
\               ag:p2:follow.DIR    
\               ag:p2:stop.T        
\               ag:oi:stop.T        
\               ag:oi:stop.DIR      
\               ag:p2:stop.DIR      
\               ag:p1:stop.T        
\               ag:oi:follow.T      
\               ag:p1:follow.DIR    
\               ag:p2:follow.T      
\               ag:p2:probeParked   
\               ag:hwC              
\               ag:oi:name          
\               ag:measuring        
\               ag:oi:probeParked   
\               ag:p1:y             
\               ag:p1:x             
\               ag:p1:focusPos      
\               ag:p2:x             
\               ag:p2:focusPos      
\               ag:p2:y             
\               ag:p2:setOrient.VALA
\               ag:p1:Rmax          
\               ag:p1:Rmin          
\               ag:p1:RT34Pos       
\               ag:p1:probeDatumed  
\               ag:p2:PA34Pos       
\               ag:oi:x             
\               ag:oi:focusPos      
\               ag:oi:y             
\               ag:p1:Rmax          
\               ag:p2:probeDatumed  
\               ag:oi:probeDatumed  
\               ag:p1:probeParked   
\               ag:p1:PA34Pos       
\               ag:p2:RT34Pos       
\               ag:p2:Rmax          
\               ag:aoC              
\               ag:p2:Rmax          
\               ag:p2:Rmin          
\               ag:sfC              
=============== ==================== ===========

7.2. A&G <-> TCC 
-----------------

These tables give a brief description of the records used on the
interactions between A&G and TCC.

=============== ====================== ===========
**Description** **Record**             **Comment**
=============== ====================== ===========
\               ag:inPosition         
\               ag:sfinPosition.VAL   
\               ag:sfParked.VAL       
\               ag:sfC.VAL            
\               ag:sfTilt             
\               ag:sfRot              
\               ag:sfLin              
\               ag:sfLin              
\               ag:sfName             
\               ag:aoinPosition.VAL   
\               ag:aoParked.VAL       
\               ag:aoC.VAL            
\               ag:aoName             
\               ag:PA3AOinPosition.VAL
\               ag:PA3AOParked.VAL    
\               ag:PA3AOC.VAL         
\               ag:aoName             
\               ag:hwName             
\               ag:sfHealth.VAL       
\               ag:aoHealth.VAL       
\               ag:PA3AOHealth.VAL    
\               ag:PA3AOC.VAL         
\               ag:PA3AOinPosition.VAL
\               ag:PA3AOName.VAL      
\               ag:p2:RT34Health.VAL  
\               ag:hwHealth.VAL       
\               ag:p1:probeParked     
\               ag:p1:followS         
\               ag:p1:inPosition      
\               ag:p1:RT34Pos         
\               ag:p1:PA34Pos         
\               ag:p1:x               
\               ag:p1:y               
\               ag:p1:probeCalParm.B  
\               ag:p1:probeCalParm.G  
\               ag:p1:probeCalParm.D  
\               ag:p1:probeCalParm.H  
\               ag:p1:probeCalParm.U  
\               ag:p1:filterName.VAL  
\               ag:p1:fldstopName.VAL 
\               ag:p2:followS         
\               ag:p2:followS         
\               ag:p2:inPosition      
\               ag:p2:PA34Pos         
\               ag:p2:PA34Pos         
\               ag:p2:x               
\               ag:p2:y               
\               ag:p2:probeCalParm.B  
\               ag:p2:probeCalParm.G  
\               ag:p2:probeCalParm.D  
\               ag:p2:probeCalParm.H  
\               ag:p2:probeCalParm.I  
\               ag:p2:probeCalParm.U  
\               ag:p2:filterName.VAL  
\               ag:p2:fldstopName.VAL 
\               ag:oi:inPosition      
\               ag:oi:x               
\               ag:oi:y               
\               ag:oi:followS         
\               ag:activeC.VAL        
\               ag:port:port1         
\               ag:port:port2         
\               ag:port:port3         
\               ag:port:port4         
\               ag:port:port5         
\               ag:port:nirs          
\               ag:port:gmos          
\               ag:oi:name            
\               ag:oi:oiwfsCoeffs.VALJ
=============== ====================== ===========

7.3. A&G -> SEQEXEC 
--------------------

These tables give a brief description of the records used on the
interactions between A&G and SEQEXEC.

=============== ================= ===========
**Description** **Record**        **Comment**
=============== ================= ===========
\               ag:sfRot         
\               ag:sfTilt        
\               ag:sfLin         
\               ag:aoName        
\               ag:port:gmos     
\               ag:port:gpi      
\               ag:port:gsaoi    
\               ag:port:port1    
\               ag:port:port2    
\               ag:port:port3    
\               ag:port:port4    
\               ag:port:port5    
\               ag:sfName        
\               ag:sfParked      
\               ag:aoName        
\               ag:p1:followS    
\               ag:p2:followS    
\               ag:oi:followS    
\               ag:p1:probeParked
\               ag:p2:probeParked
\               ag:oi:probeParked
\               ag:hwParked      
=============== ================= ===========

7.4. A&G -> GEA 
----------------

These tables give a brief description of the records used on the
interactions between A&G and GEA.

=============== =========================== ===========
**Description** **Record**                  **Comment**
=============== =========================== ===========
\               ag:aoinPosition.VAL        
\               ag:cc:inPosition.VAL       
\               ag:hwEng.A                 
\               ag:hwEngPosA.VALA          
\               ag:hwinPosition.VAL        
\               ag:hwMove.A                
\               ag:hwParked.VAL            
\               ag:hwPosA.VALA             
\               ag:hwSel.A                 
\               ag:hwxlat.VALA             
\               ag:hwxlat.VALI             
\               ag:hwxlat.VALG             
\               ag:Lin2inPosition.VAL      
\               ag:Lin2PosA.VALA           
\               ag:Lin2xlat.VALA           
\               ag:Lin2xlat.VALG           
\               ag:Lin2xlat.VALI           
\               ag:p1:angle                
\               ag:p1:filterinPosition.VAL 
\               ag:p1:filterPosA.VALA      
\               ag:p1:filterxlat.VALG      
\               ag:p1:filterxlat.VALI      
\               ag:p1:fldstopEngPosA.VALA  
\               ag:p1:fldstopinPosition.VAL
\               ag:p1:fldstopPosA.VALA     
\               ag:p1:fldstopxlat.VALG     
\               ag:p1:fldstopxlat.VALI     
\               ag:p1:focusinPosition.VAL  
\               ag:p1:focusPosA.VALA       
\               ag:p1:focusxlat.VALG       
\               ag:p1:focusxlat.VALI       
\               ag:p1:inPosition.VAL       
\               ag:p1:PA34inPosition.VAL   
\               ag:p1:PA34PosA.VALA        
\               ag:p1:PA34xlat.VALG        
\               ag:p1:PA34xlat.VALI        
\               ag:p1:probeinPosition.VAL  
\               ag:p1:probePosA.VALA       
\               ag:p1:probePosA.VALB       
\               ag:p1:probePosA.VALC       
\               ag:p1:RT34inPosition.VAL   
\               ag:p1:RT34PosA.VALA        
\               ag:p1:RT34xlat.VALA        
\               ag:p1:RT34xlat.VALG        
\               ag:p1:RT34xlat.VALI        
\               ag:p2:angle                
\               ag:p2:filterinPosition.VAL 
\               ag:p2:filterPosA.VALA      
\               ag:p2:filterxlat.VALG      
\               ag:p2:filterxlat.VALI      
\               ag:p2:fldstopEngPosA.VALA  
\               ag:p2:fldstopinPosition.VAL
\               ag:p2:fldstopPosA.VALA     
\               ag:p2:fldstopxlat.VALG     
\               ag:p2:fldstopxlat.VALI     
\               ag:p2:focusinPosition.VAL  
\               ag:p2:focusPosA.VALA       
\               ag:p2:focusxlat.VALG       
\               ag:p2:focusxlat.VALI       
\               ag:p2:inPosition.VAL       
\               ag:p2:PA34inPosition.VAL   
\               ag:p2:PA34PosA.VALA        
\               ag:p2:PA34xlat.VALG        
\               ag:p2:PA34xlat.VALI        
\               ag:p2:probeinPosition.VAL  
\               ag:p2:probePosA.VALA       
\               ag:p2:probePosA.VALB       
\               ag:p2:probePosA.VALC       
\               ag:p2:probePosA.VALG       
\               ag:p2:probePosA.VALH       
\               ag:p2:probexlat.VALA       
\               ag:p2:RT34inPosition.VAL   
\               ag:p2:RT34PosA.VALA        
\               ag:p2:RT34xlat.VALA        
\               ag:p2:RT34xlat.VALG        
\               ag:p2:RT34xlat.VALI        
\               ag:PA3AOEng.A              
\               ag:PA3AOinPosition.VAL     
\               ag:PA3AOMove.A             
\               ag:PA3AOPosA.VALA          
\               ag:PA3AOEngPosA.VALA       
\               ag:PA3AOxlat.VALA          
\               ag:PA3AOxlat.VALG          
\               ag:PA3AOxlat.VALI          
\               ag:aoEng.A                 
\               ag:aoEng.B                 
\               ag:aoEngPosA.VALA          
\               ag:aoEngPosA.VALB          
\               ag:RT2inPosition.VAL       
\               ag:RT2PosA.VALA            
\               ag:RT2xlat.VALA            
\               ag:RT2xlat.VALG            
\               ag:RT2xlat.VALI            
\               ag:sfEngPosA.VALA          
\               ag:sfEngPosA.VALB          
\               ag:sfEngPosA.VALC          
\               ag:sfinPosition.VAL        
\               ag:sfName.VAL              
\               ag:sfPosA.VALA             
\               ag:sfPosA.VALB             
\               ag:sfPosA.VALC             
\               ag:sfxlat.VALA             
\               ag:TiltinPosition.VAL      
\               ag:TiltPosA.VALA           
\               ag:Tiltxlat.VALA           
\               ag:Tiltxlat.VALG           
\               ag:Tiltxlat.VALI           
\               ag:torque.VALB             
\               ag:torque.VALD             
\               ag:torque.VALF             
\               hrwfs:cc:clfilterSel.A     
\               hrwfs:cc:clfilterSel.DIR   
\               hrwfs:cc:fldstopSel.A      
\               hrwfs:cc:fldstopSel.DIR    
\               hrwfs:cc:focusSel.A        
\               hrwfs:cc:focusSel.DIR      
\               hrwfs:cc:lensSel.A         
\               hrwfs:cc:lensSel.DIR       
\               hrwfs:cc:ndfilterSel.A     
\               hrwfs:cc:ndfilterSel.DIR   
\               hrwfs:clfilterC.VAL        
\               hrwfs:clfilterEngPosA.VALA 
\               hrwfs:clfilterName.VAL     
\               hrwfs:clfilterPosA.VALA    
\               hrwfs:clfilterxlat.VALG    
\               hrwfs:clfilterxlat.VALI    
\               hrwfs:fldstopC.VAL         
\               hrwfs:fldstopEngPosA.VALA  
\               hrwfs:fldstopName.VAL      
\               hrwfs:fldstopPosA.VALA     
\               hrwfs:fldstopxlat.VALG     
\               hrwfs:fldstopxlat.VALI     
\               hrwfs:focusC.VAL           
\               hrwfs:focusEngPosA.VALA    
\               hrwfs:focusName.VAL        
\               hrwfs:focusPosA.VALA       
\               hrwfs:focusxlat.VALG       
\               hrwfs:focusxlat.VALI       
\               hrwfs:lensC.VAL            
\               hrwfs:lensEngPosA.VALA     
\               hrwfs:lensName.VAL         
\               hrwfs:lensPosA.VALA        
\               hrwfs:lensxlat.VALG        
\               hrwfs:lensxlat.VALI        
\               hrwfs:ndfilterC.VAL        
\               hrwfs:ndfilterEngPosA.VALA 
\               hrwfs:ndfilterName.VAL     
\               hrwfs:ndfilterPosA.VALA    
\               hrwfs:encoderMode          
\               hrwfs:encoderStatusStr     
=============== =========================== ===========

7.5. Currently disconnected channels
------------------------------------

1. Accessible from AG DM Screen → Simulation → Simulated - Time System
      Status

   a. 2x mc:currentElS.VAL

   b. 2x cr:posAngle.VAL

   c. 2x ws:tel:temp.VAL

2. All the channels related to pimg

Back to `index <#index>`__

7.6. AG system SW decomposition
-------------------------------

This should probably go into a design document but as we do not have
one, we show it here because it’s very useful to better understand the
system

|image12|

Back to `index <#index>`__

.. |image0| image:: ./media/media/image3.png
   :width: 6.35417in
   :height: 5.80556in
.. |image1| image:: ./media/media/image5.png
   :width: 6.35417in
   :height: 3.73611in
.. |image2| image:: ./media/media/image8.png
   :width: 6.35417in
   :height: 3.41667in
.. |image3| image:: ./media/media/image2.png
   :width: 6.35417in
   :height: 2.75in
.. |image4| image:: ./media/media/image12.png
   :width: 6.35417in
   :height: 4.91667in
.. |image5| image:: ./media/media/image1.png
   :width: 6.35417in
   :height: 2.625in
.. |image6| image:: ./media/media/image4.png
   :width: 6.35417in
   :height: 2.26389in
.. |image7| image:: ./media/media/image9.png
   :width: 6.35417in
   :height: 6.76389in
.. |image8| image:: ./media/media/image7.png
   :width: 6.35417in
   :height: 5.93056in
.. |image9| image:: ./media/media/image11.png
   :width: 6.35417in
   :height: 4.52778in
.. |image10| image:: ./media/media/image10.png
   :width: 6.35417in
   :height: 2.56944in
.. |image11| image:: ./media/media/image13.png
   :width: 6.5in
   :height: 6.61111in
.. |image12| image:: ./media/media/image6.png
   :width: 6.5in
   :height: 3.59722in
